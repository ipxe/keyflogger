EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "keyflogger PIC16F145x"
Date ""
Rev ""
Comp "Fen Systems Ltd."
Comment1 ""
Comment2 "https://github.com/ipxe/keyflogger"
Comment3 ""
Comment4 "USB keyboard/mouse injector (PIC16F145x-based)"
$EndDescr
$Comp
L MCU_Microchip_PIC16:PIC16F1454-IP U1
U 1 1 60365657
P 6000 2050
F 0 "U1" H 6300 2700 50  0000 C CNN
F 1 "PIC16F1454-IP" H 6550 2600 50  0000 C CNN
F 2 "Package_SO:SOIC-14_3.9x8.7mm_P1.27mm" H 6000 2050 50  0001 C CNN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/41639A.pdf" H 6000 2050 50  0001 C CNN
	1    6000 2050
	1    0    0    -1  
$EndComp
$Comp
L Connector:USB_B_Micro J1
U 1 1 60366616
P 1700 1950
F 0 "J1" H 1757 2417 50  0000 C CNN
F 1 "USB_B_Micro" H 1757 2326 50  0000 C CNN
F 2 "Connector_USB:USB_Micro-B_Amphenol_10118194_Horizontal" H 1850 1900 50  0001 C CNN
F 3 "~" H 1850 1900 50  0001 C CNN
	1    1700 1950
	1    0    0    -1  
$EndComp
NoConn ~ 2000 2150
$Comp
L power:GND #PWR07
U 1 1 6036924D
P 1700 2550
F 0 "#PWR07" H 1700 2300 50  0001 C CNN
F 1 "GND" H 1705 2377 50  0000 C CNN
F 2 "" H 1700 2550 50  0001 C CNN
F 3 "" H 1700 2550 50  0001 C CNN
	1    1700 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 2350 1600 2450
Wire Wire Line
	1600 2450 1700 2450
Wire Wire Line
	1700 2350 1700 2450
Connection ~ 1700 2450
Wire Wire Line
	1700 2450 1700 2550
Wire Wire Line
	2150 1750 2150 1550
Wire Wire Line
	6000 1150 6000 1250
$Comp
L power:GND #PWR02
U 1 1 6036CC6B
P 5400 1300
F 0 "#PWR02" H 5400 1050 50  0001 C CNN
F 1 "GND" H 5405 1127 50  0000 C CNN
F 2 "" H 5400 1300 50  0001 C CNN
F 3 "" H 5400 1300 50  0001 C CNN
	1    5400 1300
	1    0    0    -1  
$EndComp
$Comp
L Device:C C1
U 1 1 6036E100
P 5700 1250
F 0 "C1" V 5448 1250 50  0000 C CNN
F 1 "470n" V 5539 1250 50  0000 C CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 5738 1100 50  0001 C CNN
F 3 "~" H 5700 1250 50  0001 C CNN
	1    5700 1250
	0    1    1    0   
$EndComp
Wire Wire Line
	5400 1300 5400 1250
Wire Wire Line
	5400 1250 5550 1250
Wire Wire Line
	5850 1250 6000 1250
Connection ~ 6000 1250
Wire Wire Line
	6000 1250 6000 1450
$Comp
L Connector:Conn_PIC_ICSP_ICD J2
U 1 1 6036F92E
P 1800 3500
F 0 "J2" H 2000 3950 50  0000 R CNN
F 1 "Conn_PIC_ICSP_ICD" H 2400 3850 50  0000 R CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x06_P2.54mm_Vertical" H 1850 3650 50  0001 C CNN
F 3 "http://ww1.microchip.com/downloads/en/devicedoc/30277d.pdf" V 1500 3350 50  0001 C CNN
	1    1800 3500
	1    0    0    -1  
$EndComp
NoConn ~ 1600 3100
$Comp
L power:GND #PWR09
U 1 1 60370F7A
P 1600 4000
F 0 "#PWR09" H 1600 3750 50  0001 C CNN
F 1 "GND" H 1605 3827 50  0000 C CNN
F 2 "" H 1600 4000 50  0001 C CNN
F 3 "" H 1600 4000 50  0001 C CNN
	1    1600 4000
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 3900 1600 4000
$Comp
L power:GND #PWR08
U 1 1 6037157A
P 6000 2750
F 0 "#PWR08" H 6000 2500 50  0001 C CNN
F 1 "GND" H 6005 2577 50  0000 C CNN
F 2 "" H 6000 2750 50  0001 C CNN
F 3 "" H 6000 2750 50  0001 C CNN
	1    6000 2750
	1    0    0    -1  
$EndComp
Wire Wire Line
	6000 2650 6000 2750
$Comp
L Device:C C2
U 1 1 60372C1D
P 3750 1750
F 0 "C2" V 3498 1750 50  0000 C CNN
F 1 "470n" V 3589 1750 50  0000 C CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 3788 1600 50  0001 C CNN
F 3 "~" H 3750 1750 50  0001 C CNN
	1    3750 1750
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR04
U 1 1 60373024
P 3450 1800
F 0 "#PWR04" H 3450 1550 50  0001 C CNN
F 1 "GND" H 3300 1750 50  0000 C CNN
F 2 "" H 3450 1800 50  0001 C CNN
F 3 "" H 3450 1800 50  0001 C CNN
	1    3450 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3900 1750 4000 1750
NoConn ~ 2300 3700
NoConn ~ 4000 2250
NoConn ~ 8000 2150
NoConn ~ 8000 2050
NoConn ~ 8000 1950
Wire Wire Line
	3600 1750 3450 1750
Wire Wire Line
	3450 1750 3450 1800
Wire Wire Line
	2000 1950 4000 1950
Wire Wire Line
	2000 2050 4000 2050
$Comp
L MCU_Microchip_PIC16:PIC16F1454-IP U2
U 1 1 60392DFE
P 6000 5100
F 0 "U2" H 6300 5750 50  0000 C CNN
F 1 "PIC16F1454-IP" H 6550 5650 50  0000 C CNN
F 2 "Package_SO:SOIC-14_3.9x8.7mm_P1.27mm" H 6000 5100 50  0001 C CNN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/41639A.pdf" H 6000 5100 50  0001 C CNN
	1    6000 5100
	1    0    0    -1  
$EndComp
$Comp
L Connector:USB_B_Micro J3
U 1 1 60392F2E
P 1700 5000
F 0 "J3" H 1757 5467 50  0000 C CNN
F 1 "USB_B_Micro" H 1757 5376 50  0000 C CNN
F 2 "Connector_USB:USB_Micro-B_Amphenol_10118194_Horizontal" H 1850 4950 50  0001 C CNN
F 3 "~" H 1850 4950 50  0001 C CNN
	1    1700 5000
	1    0    0    -1  
$EndComp
NoConn ~ 2000 5200
$Comp
L power:GND #PWR016
U 1 1 60392F39
P 1700 5600
F 0 "#PWR016" H 1700 5350 50  0001 C CNN
F 1 "GND" H 1705 5427 50  0000 C CNN
F 2 "" H 1700 5600 50  0001 C CNN
F 3 "" H 1700 5600 50  0001 C CNN
	1    1700 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 5400 1600 5500
Wire Wire Line
	1600 5500 1700 5500
Wire Wire Line
	1700 5400 1700 5500
Connection ~ 1700 5500
Wire Wire Line
	1700 5500 1700 5600
Wire Wire Line
	2000 4800 2150 4800
Wire Wire Line
	2150 4800 2150 4600
Wire Wire Line
	6000 4200 6000 4300
$Comp
L power:GND #PWR011
U 1 1 60392F5F
P 5400 4350
F 0 "#PWR011" H 5400 4100 50  0001 C CNN
F 1 "GND" H 5405 4177 50  0000 C CNN
F 2 "" H 5400 4350 50  0001 C CNN
F 3 "" H 5400 4350 50  0001 C CNN
	1    5400 4350
	1    0    0    -1  
$EndComp
$Comp
L Device:C C3
U 1 1 60392F69
P 5700 4300
F 0 "C3" V 5448 4300 50  0000 C CNN
F 1 "470n" V 5539 4300 50  0000 C CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 5738 4150 50  0001 C CNN
F 3 "~" H 5700 4300 50  0001 C CNN
	1    5700 4300
	0    1    1    0   
$EndComp
Wire Wire Line
	5400 4350 5400 4300
Wire Wire Line
	5400 4300 5550 4300
Wire Wire Line
	5850 4300 6000 4300
Connection ~ 6000 4300
Wire Wire Line
	6000 4300 6000 4500
$Comp
L power:GND #PWR017
U 1 1 60392F7A
P 6000 5800
F 0 "#PWR017" H 6000 5550 50  0001 C CNN
F 1 "GND" H 6005 5627 50  0000 C CNN
F 2 "" H 6000 5800 50  0001 C CNN
F 3 "" H 6000 5800 50  0001 C CNN
	1    6000 5800
	1    0    0    -1  
$EndComp
Wire Wire Line
	6000 5700 6000 5800
$Comp
L Device:C C4
U 1 1 60392F89
P 3750 4800
F 0 "C4" V 3498 4800 50  0000 C CNN
F 1 "470n" V 3589 4800 50  0000 C CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 3788 4650 50  0001 C CNN
F 3 "~" H 3750 4800 50  0001 C CNN
	1    3750 4800
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR013
U 1 1 60392F93
P 3450 4850
F 0 "#PWR013" H 3450 4600 50  0001 C CNN
F 1 "GND" H 3300 4800 50  0000 C CNN
F 2 "" H 3450 4850 50  0001 C CNN
F 3 "" H 3450 4850 50  0001 C CNN
	1    3450 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3900 4800 4000 4800
NoConn ~ 4000 5300
NoConn ~ 8000 5200
NoConn ~ 8000 5100
NoConn ~ 8000 5000
Wire Wire Line
	3600 4800 3450 4800
Wire Wire Line
	3450 4800 3450 4850
Wire Wire Line
	2000 5000 4000 5000
Wire Wire Line
	2000 5100 4000 5100
$Comp
L local:VDD1 #PWR03
U 1 1 6036E3C6
P 2150 1550
F 0 "#PWR03" H 2150 1400 50  0001 C CNN
F 1 "VDD1" H 2165 1723 50  0000 C CNN
F 2 "" H 2150 1550 50  0001 C CNN
F 3 "" H 2150 1550 50  0001 C CNN
	1    2150 1550
	1    0    0    -1  
$EndComp
$Comp
L local:VDD1 #PWR01
U 1 1 6036EE33
P 6000 1150
F 0 "#PWR01" H 6000 1000 50  0001 C CNN
F 1 "VDD1" H 6015 1323 50  0000 C CNN
F 2 "" H 6000 1150 50  0001 C CNN
F 3 "" H 6000 1150 50  0001 C CNN
	1    6000 1150
	1    0    0    -1  
$EndComp
$Comp
L local:VDD2 #PWR012
U 1 1 6036FB70
P 2150 4600
F 0 "#PWR012" H 2150 4450 50  0001 C CNN
F 1 "VDD2" H 2165 4773 50  0000 C CNN
F 2 "" H 2150 4600 50  0001 C CNN
F 3 "" H 2150 4600 50  0001 C CNN
	1    2150 4600
	1    0    0    -1  
$EndComp
$Comp
L local:VDD2 #PWR010
U 1 1 603703E3
P 6000 4200
F 0 "#PWR010" H 6000 4050 50  0001 C CNN
F 1 "VDD2" H 6015 4373 50  0000 C CNN
F 2 "" H 6000 4200 50  0001 C CNN
F 3 "" H 6000 4200 50  0001 C CNN
	1    6000 4200
	1    0    0    -1  
$EndComp
$Comp
L local:VDD1 #PWR06
U 1 1 60371884
P 3750 2350
F 0 "#PWR06" H 3750 2200 50  0001 C CNN
F 1 "VDD1" H 3600 2400 50  0000 C CNN
F 2 "" H 3750 2350 50  0001 C CNN
F 3 "" H 3750 2350 50  0001 C CNN
	1    3750 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 2350 3750 2350
$Comp
L power:GND #PWR015
U 1 1 6037496F
P 3750 5400
F 0 "#PWR015" H 3750 5150 50  0001 C CNN
F 1 "GND" H 3755 5227 50  0000 C CNN
F 2 "" H 3750 5400 50  0001 C CNN
F 3 "" H 3750 5400 50  0001 C CNN
	1    3750 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 5400 3750 5400
$Comp
L Device:LED D1
U 1 1 603787CE
P 8250 2250
F 0 "D1" H 8243 2467 50  0000 C CNN
F 1 "LED" H 8243 2376 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 8250 2250 50  0001 C CNN
F 3 "~" H 8250 2250 50  0001 C CNN
	1    8250 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	8000 2250 8100 2250
$Comp
L Device:R R1
U 1 1 6037A5C4
P 8650 2250
F 0 "R1" V 8443 2250 50  0000 C CNN
F 1 "1K5" V 8534 2250 50  0000 C CNN
F 2 "Resistor_SMD:R_0402_1005Metric" V 8580 2250 50  0001 C CNN
F 3 "~" H 8650 2250 50  0001 C CNN
	1    8650 2250
	0    1    1    0   
$EndComp
Wire Wire Line
	8400 2250 8500 2250
Wire Wire Line
	8000 4900 9800 4900
Wire Wire Line
	9800 4900 9800 3600
Wire Wire Line
	8000 1850 9800 1850
Wire Wire Line
	9800 1850 9800 3600
Connection ~ 9800 3600
Wire Wire Line
	8000 1750 9700 1750
Wire Wire Line
	9700 1750 9700 3500
Wire Wire Line
	9700 4800 8000 4800
Wire Wire Line
	2300 3500 9700 3500
Connection ~ 9700 3500
Wire Wire Line
	9700 3500 9700 4800
Text Label 8700 3500 0    50   ~ 0
SCL(ICSPDAT)
Text Label 8700 3600 0    50   ~ 0
SDA(ICSPCLK)
$Comp
L local:VDD1 #PWR05
U 1 1 6038C989
P 8900 2150
F 0 "#PWR05" H 8900 2000 50  0001 C CNN
F 1 "VDD1" H 9050 2200 50  0000 C CNN
F 2 "" H 8900 2150 50  0001 C CNN
F 3 "" H 8900 2150 50  0001 C CNN
	1    8900 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	8900 2150 8900 2250
Wire Wire Line
	8900 2250 8800 2250
$Comp
L Device:LED D3
U 1 1 6038F120
P 8250 5300
F 0 "D3" H 8243 5517 50  0000 C CNN
F 1 "LED" H 8243 5426 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 8250 5300 50  0001 C CNN
F 3 "~" H 8250 5300 50  0001 C CNN
	1    8250 5300
	1    0    0    -1  
$EndComp
Wire Wire Line
	8000 5300 8100 5300
$Comp
L Device:R R2
U 1 1 6038F32F
P 8650 5300
F 0 "R2" V 8443 5300 50  0000 C CNN
F 1 "1K5" V 8534 5300 50  0000 C CNN
F 2 "Resistor_SMD:R_0402_1005Metric" V 8580 5300 50  0001 C CNN
F 3 "~" H 8650 5300 50  0001 C CNN
	1    8650 5300
	0    1    1    0   
$EndComp
Wire Wire Line
	8400 5300 8500 5300
Wire Wire Line
	8900 5200 8900 5300
Wire Wire Line
	8900 5300 8800 5300
$Comp
L local:VDD2 #PWR014
U 1 1 60394761
P 8900 5200
F 0 "#PWR014" H 8900 5050 50  0001 C CNN
F 1 "VDD2" H 8915 5373 50  0000 C CNN
F 2 "" H 8900 5200 50  0001 C CNN
F 3 "" H 8900 5200 50  0001 C CNN
	1    8900 5200
	1    0    0    -1  
$EndComp
Wire Wire Line
	2000 1750 2150 1750
$Comp
L Diode:BAT54C D2
U 1 1 6038E22E
P 2850 3000
F 0 "D2" V 2804 3088 50  0000 L CNN
F 1 "BAT54C" V 2895 3088 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 2925 3125 50  0001 L CNN
F 3 "http://www.diodes.com/_files/datasheets/ds11005.pdf" H 2770 3000 50  0001 C CNN
	1    2850 3000
	0    1    1    0   
$EndComp
Wire Wire Line
	2300 3600 9800 3600
Wire Wire Line
	2850 2700 2850 2150
Wire Wire Line
	2850 2150 4000 2150
Wire Wire Line
	4000 5200 2850 5200
Wire Wire Line
	2850 5200 2850 3300
Wire Wire Line
	2300 3300 2550 3300
Wire Wire Line
	2550 3300 2550 3000
Wire Wire Line
	2550 3000 2650 3000
$EndSCHEMATC
